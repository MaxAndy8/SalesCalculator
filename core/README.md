# Core module

–ú–æ–¥—É–ª—å `core` –º—ñ—Å—Ç–∏—Ç—å **–±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É —Å–∏—Å—Ç–µ–º–∏ SalesCalculator** —Ç–∞ –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å
–≤—ñ–¥ UI, Qt, SQL –∞–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –°–£–ë–î.

–¶–µ **—Å–µ—Ä—Ü–µ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É**.

---

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ —Ä–æ–ª—å

`core` —Ä–µ–∞–ª—ñ–∑—É—î –¥–≤–∞ —à–∞—Ä–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏:

- **Domain Layer** ‚Äî –±—ñ–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å —ñ –ø—Ä–∞–≤–∏–ª–∞
- **Application Layer** ‚Äî —Å—Ü–µ–Ω–∞—Ä—ñ—ó (use-cases), —è–∫—ñ –∫–æ–æ—Ä–¥–∏–Ω—É—é—Ç—å —Ä–æ–±–æ—Ç—É —Å–∏—Å—Ç–µ–º–∏

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥—ñ–≤

```text
core/
‚îú‚îÄ domain/
‚îÇ  ‚îú‚îÄ common/
‚îÇ  ‚îú‚îÄ catalog/
‚îÇ  ‚îú‚îÄ document/
‚îÇ  ‚îî‚îÄ auth/
‚îÇ
‚îú‚îÄ application/
‚îÇ  ‚îú‚îÄ catalog/
‚îÇ  ‚îú‚îÄ document/
‚îÇ  ‚îî‚îÄ auth/
‚îÇ
‚îî‚îÄ README.md

Domain Layer (core/domain)

Domain –º—ñ—Å—Ç–∏—Ç—å —á–∏—Å—Ç—ñ –±—ñ–∑–Ω–µ—Å-–æ–± º—î–∫—Ç–∏, —è–∫—ñ:

–Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ UI

–Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ SQL

–Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ Qt

–Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å –∑ º—î–¥–Ω–∞–Ω—å –∑ –ë–î

–Ω–µ –º–∞—é—Ç—å –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤

–û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏

Domain-–æ–± º—î–∫—Ç–∏ —ñ–º–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –ø–æ —Å—É—Ç—ñ

–°—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ª–∏—à–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥–∏ –¥–æ–º–µ–Ω–Ω–æ—ó –ª–æ–≥—ñ–∫–∏

–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–∑—á–∏—Ç—É–≤–∞–Ω–Ω—è ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å Infrastructure

domain/common

–ó–∞–≥–∞–ª—å–Ω—ñ —Ç–∏–ø–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤—Å—ñ—î—é —Å–∏—Å—Ç–µ–º–æ—é:

–§–∞–π–ª	–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
id.h	–¢–∏–ø —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ —Å—É—Ç–Ω–æ—Å—Ç—ñ
version.h	–í–µ—Ä—Å—ñ—è –¥–∞–Ω–∏—Ö (optimistic locking)
objectreference.h	–õ–µ–≥–∫–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–± º—î–∫—Ç
baseentity.h	–ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–æ–º–µ–Ω–Ω–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π
domain/catalog

–î–æ–≤—ñ–¥–Ω–∏–∫–∏ —Å–∏—Å—Ç–µ–º–∏:

Nomenclature

Counterparty

–ú—ñ—Å—Ç—è—Ç—å:

–±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞

–≤–∞–ª—ñ–¥–∞—Ü—ñ—é

–¥–æ–º–µ–Ω–Ω—ñ –ø–æ–¥—ñ—ó (CatalogEvents)

domain/document

–î–æ–∫—É–º–µ–Ω—Ç–∏:

GoodsReceipt (–ù–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –ø–æ—Å–ª—É–≥)

–î–æ–∫—É–º–µ–Ω—Ç–∏ –º–æ–∂—É—Ç—å:

–∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∑–∞–ª–∏—à–∫–∏

–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–æ–º–µ–Ω–Ω—ñ –ø–æ–¥—ñ—ó

–º–∞—Ç–∏ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª (draft ‚Üí posted ‚Üí cancelled)

domain/auth

–î–æ–º–µ–Ω–Ω–∞ –º–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

User

—Ä–æ–ª—ñ

–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

Application Layer (core/application)

Application Layer —Ä–µ–∞–ª—ñ–∑—É—î —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (use-cases).

–í—ñ–Ω:

–æ—Ç—Ä–∏–º—É—î –∑–∞–ø–∏—Ç–∏ –≤—ñ–¥ UI

–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Domain-–æ–± º—î–∫—Ç–∏

–≤–∏–∫–ª–∏–∫–∞—î Infrastructure —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏

–∫–µ—Ä—É—î —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏

–í–∞–∂–ª–∏–≤–æ

Application Layer –Ω–µ –º—ñ—Å—Ç–∏—Ç—å SQL
—ñ –Ω–µ –∑–Ω–∞—î, —è–∫ —Å–∞–º–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –¥–∞–Ω—ñ

application/catalog

Use-cases –¥–ª—è –¥–æ–≤—ñ–¥–Ω–∏–∫—ñ–≤:

—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

–≤–∏–¥–∞–ª–µ–Ω–Ω—è

–ü—Ä–∏–∫–ª–∞–¥:

auto nom = NomenclatureService::create();
nom.setName("Apple");
NomenclatureService::save(nom);

application/document

Use-cases –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:

—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è

—Å–∫–∞—Å—É–≤–∞–Ω–Ω—è

–∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ª–∏—à–∫—ñ–≤

application/auth

Use-cases –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:

–ª–æ–≥—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–ª–µ–π

–∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ—Å—ñ—î—é

–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
UI ‚Üí Application ‚Üí Domain
         ‚Üë
   Infrastructure


Domain –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –Ω—ñ –≤—ñ–¥ –∫–æ–≥–æ

Application –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Domain

Infrastructure –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Application

UI –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Application

–ü—Ä–∏–Ω—Ü–∏–ø–∏ –¥–∏–∑–∞–π–Ω—É

Clean Architecture

DDD-lite

CQRS-ready

Unit-test friendly

UI-agnostic

–©–æ –ù–ï –ú–û–ñ–ù–ê —Ä–æ–±–∏—Ç–∏ –≤ core

‚ùå –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Qt
‚ùå –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ SQL
‚ùå –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏
‚ùå –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥—ñ–∞–ª–æ–≥–∏

–ù–∞–≤—ñ—â–æ —Ç–∞–∫ —Å–∫–ª–∞–¥–Ω–æ?

–¢–æ–º—É —â–æ:

—Å–∏—Å—Ç–µ–º–∞ —Ä–æ—Å—Ç–∏–º–µ

–∑ º—è–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏

–∑–º—ñ–Ω–∏—Ç—å—Å—è –ë–î

–∑–º—ñ–Ω–∏—Ç—å—Å—è UI

core –∑–∞–ª–∏—à–∏—Ç—å—Å—è —Å—Ç–∞–±—ñ–ª—å–Ω–∏–º.

–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

–©–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫ –∞–±–æ –¥–æ–∫—É–º–µ–Ω—Ç:

–î–æ–¥–∞—Ç–∏ –¥–æ–º–µ–Ω–Ω–∏–π –æ–± º—î–∫—Ç —É domain/

–î–æ–¥–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å —É application/

–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –≤ infrastructure/

–ü—ñ–¥ º—î–¥–Ω–∞—Ç–∏ UI

–î–æ–∫–ª–∞–¥–Ω—ñ—à–µ –¥–∏–≤–∏—Å—å —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö README.

–ê–≤—Ç–æ—Ä—Å—å–∫–∞ –ø—Ä–∏–º—ñ—Ç–∫–∞

–¶–µ–π –º–æ–¥—É–ª—å —Å–ø—Ä–æ—î–∫—Ç–æ–≤–∞–Ω–æ —Ç–∞–∫, —â–æ–± –π–æ–≥–æ –±—É–ª–æ:

–ª–µ–≥–∫–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏

–ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç–∏

–ª–µ–≥–∫–æ –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–º —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º

–Ø–∫—â–æ —â–æ—Å—å –≤–∏–≥–ª—è–¥–∞—î ¬´–∑–∞–π–≤–∏–º¬ª ‚Äî –∑–Ω–∞—á–∏—Ç—å –≤–æ–Ω–æ –∑ º—è–≤–∏–ª–æ—Å—å —á–µ—Ä–µ–∑ –±—ñ–ª—å —É –º–∏–Ω—É–ª–æ–º—É üôÇ
